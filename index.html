<html>
    <meta charset="utf-8">
    <head>
        <title>黑白棋 🤔</title>
        <script src="js/Core/Core.js"></script>

        <script src="js/Core/Event/Event.js"></script>
        <script src="js/Core/Event/GameCoreReverseEvent.js"></script>
        <script src="js/Core/Event/GameEndEvent.js"></script>
        <script src="js/Core/Event/GameStartEvent.js"></script>
        <script src="js/Core/Event/GameRoundEvent.js"></script>
        <script src="js/Core/Event/GameDisplayCheckerUpdatEvent.js"></script>


        <script src="js/Core/Player.js"></script>
        <script src="js/Core/Display.js"></script>

        <script src="js/Game/GameDisplay.js"></script>
        <script src="js/Game/Players/HumanPlayer.js"></script>
    </head>
    <body>
        
            <div id="ELEM_Sign"></div>
            <table id="ELEM_CheckerBoard"></table>
            

            <p>
                行：<input id="ELEM_input_X"/>
                列：<input id="ELEM_input_Y"/>
                <input type="button" value="下棋" onClick="PlaceAChess()"/>
            </p>
            <div id="ELEM_input_Sign"></div>

            <script>
                GameControl = new Core();
                PlayerA = new HumanPlayer();
                PlayerB = new HumanPlayer();
                ADisplay = new GameDisplay();
                GameControl.Initialize(PlayerA,PlayerB,ADisplay);


                function PlaceAChess(){
                    let Input_X = document.getElementById('ELEM_input_X');
                    let Input_Y = document.getElementById('ELEM_input_Y');

                    /// 判断轮到谁下棋
                    let APlayer;
                    if (GameControl.GameStatus == 0) {
                        APlayer = GameControl.Players[0];
                    } else if (GameControl.GameStatus == 1) {
                        APlayer = GameControl.Players[1];
                    }

                    if (APlayer.PlaceChess(Number(Input_X.value),Number(Input_Y.value))==0) {
                        /// 下棋成功
                        Input_X.value ="";
                        Input_Y.value ="";
                        document.getElementById('ELEM_input_Sign').innerHTML="落子成功！";
                    } else {
                        /// 下棋失败
                        document.getElementById('ELEM_input_Sign').innerHTML="落子失败！";
                    };


                }
            </script>



    </body>
</html>